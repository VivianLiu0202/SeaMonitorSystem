<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
{% load static %}

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>主要信息-海洋牧场监测可视化系统</title>
    <link rel="icon" type="image/x-icon" href="{% static 'src/assets/img/favicon.ico' %}"/>
    <link href="{% static 'layouts/modern-light-menu/css/light/loader.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'layouts/modern-light-menu/css/dark/loader.css' %}" rel="stylesheet" type="text/css"/>
    <script src="{% static 'layouts/modern-light-menu/loader.js' %}"></script>

    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">

    <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet'/>


    <!-- 引入 ECharts.js -->
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.3.2/echarts.min.js"></script>
    <link href="{% static 'src/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'layouts/modern-light-menu/css/light/plugins.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'layouts/modern-light-menu/css/dark/plugins.css' %}" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->

    <!-- BEGIN PAGE LEVEL PLUGINS/CUSTOM STYLES -->
    <link href="{% static 'src/plugins/src/apex/apexcharts.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'src/assets/css/light/dashboard/dash_maininfo.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'src/assets/css/dark/dashboard/dash_maininfo.css' %}" rel="stylesheet" type="text/css"/>
    <!-- 通过 Bootstrap Icons CDN 引入图标 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">


    <!--switch开关的css-->
    <link href="{% static 'src/plugins/src/leaflet/leaflet.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'src/assets/css/light/scrollspyNav.css' %}" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="{% static 'src/assets/css/light/forms/switches.css' %}">

    <link href="{% static 'src/assets/css/dark/scrollspyNav.css' %}" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="{% static 'src/assets/css/dark/forms/switches.css' %}">

    <link href="{% static 'src/assets/css/light/elements/custom-pagination.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'src/assets/css/dark/elements/custom-pagination.css' %}" rel="stylesheet" type="text/css"/>

    <style>
        .info {
            padding: 6px 8px;
            font: 14px/16px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }

        .info h4 {
            margin: 0 0 5px;
            color: #777;
        }

        .legend {
            text-align: left;
            line-height: 18px;
            color: #555;
        }

        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }

        .leaflet-map {
            border-radius: 8px;
        }
    </style>

    <!-- END PAGE LEVEL PLUGINS/CUSTOM STYLES -->
</head>

<body class="layout-boxed">
<!-- BEGIN LOADER -->
<div id="load_screen">
    <div class="loader">
        <div class="loader-content">
            <div class="spinner-grow align-self-center"></div>
        </div>
    </div>
</div>
<!--  END LOADER -->

<!--  BEGIN NAVBAR  -->
<div class="header-container container-xxl">
    <header class="header navbar navbar-expand-sm expand-header">

        <a href="javascript:void(0);" class="sidebarCollapse">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </a>

        <!--search界面-->
        <div class="search-animated toggle-search">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-search">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <form class="form-inline search-full form-inline search" role="search">
                <div class="search-bar">
                    <input type="text" class="form-control search-form-control  ml-lg-auto" placeholder="搜索...">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-x search-close">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </div>
            </form>
            <span class="badge badge-secondary">Ctrl + /</span>
        </div>

        <ul class="navbar-item flex-row ms-lg-auto ms-0">

            <!--主题切换-->
            <li class="nav-item theme-toggle-item">
                <a href="javascript:void(0);" class="nav-link theme-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-moon dark-mode">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-sun light-mode">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </a>
            </li>

            <li class="nav-item dropdown user-profile-dropdown  order-lg-0 order-1">
                <a href="javascript:void(0);" class="nav-link dropdown-toggle user" id="userProfileDropdown"
                   data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <div class="avatar-container">
                        <div class="avatar avatar-sm avatar-indicators avatar-online">
                            <img alt="avatar" src="{% static 'src/assets/img/boy-1.png' %}" class="rounded-circle">
                        </div>
                    </div>
                </a>

                <div class="dropdown-menu position-absolute" aria-labelledby="userProfileDropdown">
                    <div class="user-profile-section">
                        <div class="media mx-auto">
                            <div class="emoji me-2">
                                &#x1F44B;
                            </div>
                            <div class="media-body">
                                <h5>李大壮</h5>
                                <p>池塘清扫员</p>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown-item">
                        <a href="{% url 'user_profile' %}" class="btn btn-primary default mb-2 me-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-user">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span>用户信息</span>
                        </a>
                    </div>
                    <div class="dropdown-item">
                        <a href="#" class="btn btn-primary default mb-2 me-4" id="sign-in-button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-lock me-2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <span>每日签到</span>
                        </a>
                    </div>
                    <div class="dropdown-item">
                        <a href="{% url 'signin' %}" class="btn btn-primary default mb-2 me-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-log-out">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            <span>登出系统</span>
                        </a>
                    </div>
                </div>

            </li>
        </ul>
    </header>
</div>
<!--  END NAVBAR  -->

<!--  BEGIN MAIN CONTAINER  -->
<div class="main-container" id="container">

    <div class="overlay"></div>
    <div class="search-overlay"></div>

    <!--  BEGIN SIDEBAR  -->
    <div class="sidebar-wrapper sidebar-theme">

        <nav id="sidebar">

            <div class="navbar-nav theme-brand flex-row  text-center">
                <div class="nav-logo">
                    <div class="nav-item theme-logo">
                        <a href="{% url 'index' %}">
                            <img src="{% static 'src/assets/img/logo.svg' %}" class="navbar-logo" alt="logo">
                        </a>
                    </div>
                    <div class="nav-item theme-text">
                        <a href="{% url 'index' %}" class="nav-link">SeaSystem</a>
                    </div>
                </div>
                <div class="nav-item sidebar-toggle">
                    <div class="btn-toggle sidebarCollapse">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                             stroke-linejoin="round" class="feather feather-chevrons-left">
                            <polyline points="11 17 6 12 11 7"></polyline>
                            <polyline points="18 17 13 12 18 7"></polyline>
                        </svg>
                    </div>
                </div>
            </div>

            <!--TODO:将登陆用户的信息传过来，现在还只是样例-->
            <div class="profile-info">
                <div class="user-info">
                    <div class="profile-img">
                        <img src="{% static 'src/assets/img/boy-1.png' %}" alt="avatar">
                    </div>
                    <div class="profile-content">
                        <h6 class="">李大壮</h6>
                        <p class="">池塘清扫员</p>
                    </div>
                </div>
            </div>

            <div class="shadow-bottom"></div>
            <ul class="list-unstyled menu-categories" id="accordionExample">
                <li class="menu active">
                    <a href="#dashboard" data-bs-toggle="collapse" aria-expanded="true" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-home">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                            <span>Dashboard</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-chevron-right">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </div>
                    </a>
                    <ul class="collapse submenu list-unstyled show" id="dashboard"
                        data-bs-parent="#accordionExample">
                        <li class="active">
                            <a href="{% url 'index' %}"> 主要信息 </a>
                        </li>
                        <li>
                            <a href="{% url 'underwater' %}"> 水下系统 </a>
                        </li>
                        <li>
                            <a href="{% url 'datacenter' %}"> 数据中心 </a>
                        </li>
                        <li>
                            <a href="{% url 'intelligent' %}"> 智能中心 </a>
                        </li>
                        <li>
                            <a href="{% url 'allcharts' %}"> 图表总览 </a>
                        </li>
                    </ul>
                </li>

                <li class="menu menu-heading">
                    <div class="heading">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        <span>APPLICATIONS</span></div>
                </li>

                <li class="menu">
                    <a href="{% url 'calendar' %}" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-calendar">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span>Calendar</span>
                        </div>
                    </a>
                </li>

                <li class="menu">
                    <a href="{% url 'chat' %}" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-message-square">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            <span>Chat</span>
                        </div>
                    </a>
                </li>


                <li class="menu">
                    <a href="{% url 'todolist' %}" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-edit">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            <span>Todo List</span>
                        </div>
                    </a>
                </li>

                <li class="menu menu-heading">
                    <div class="heading">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                             viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                             stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        <span>USER</span></div>
                </li>

                <li class="menu">
                    <a href="#users" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-users">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            <span>用户系统</span>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-chevron-right">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </div>
                    </a>
                    <ul class="collapse submenu list-unstyled" id="users" data-bs-parent="#accordionExample">
                        <li>
                            <a href="{% url 'user_profile' %}">用户信息</a>
                        </li>
                        <li>
                            <a href="{% url 'user_settings' %}">账户设置</a>
                        </li>
                    </ul>
                </li>
            </ul>

        </nav>

    </div>
    <!--  END SIDEBAR  -->

    <!--TODO:开始主要信息的表盘-->
    <!--  BEGIN CONTENT AREA  -->
    <div id="content" class="main-content">
        <div class="layout-px-spacing">

            <div class="middle-content container-xxl p-0">

                <div class="row layout-top-spacing">

                    <!--设备状态-->
                    <div class="col-xl-7 col-lg-6 col-md-6 col-sm-6 col-6 layout-spacing">
                        <div class="widget widget-device">
                            <div class="widget-heading">
                                <h6 class="">设备状态</h6>
                            </div>
                            <!--simple tab开始-->
                            <div class="simple-tab">

                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="maincontrol-tab" data-bs-toggle="tab"
                                                data-bs-target="#maincontrol-tab-pane" type="button" role="tab"
                                                aria-controls="maincontrol-tab-pane" aria-selected="true">主控
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="time-tab" data-bs-toggle="tab"
                                                data-bs-target="#time-tab-pane" type="button" role="tab"
                                                aria-controls="time-tab-pane" aria-selected="false">时间校准
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="channel-tab" data-bs-toggle="tab"
                                                data-bs-target="#channel-tab-pane" type="button" role="tab"
                                                aria-controls="channel-tab-pane" aria-selected="false">通道
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="alarm-tab" data-bs-toggle="tab"
                                                data-bs-target="#alarm-tab-pane" type="button" role="tab"
                                                aria-controls="alarm-tab-pane" aria-selected="false">告警
                                        </button>
                                    </li>
                                </ul>

                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade show active" id="maincontrol-tab-pane" role="tabpanel"
                                         aria-labelledby="maincontrol-tab" tabindex="0">
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="bi bi-circle feature-icon"></i>
                                                <span>设备ID</span>
                                                <span>8D19C331-4F08-47A1</span>
                                            </li>
                                            <!--TODO:这里需要添加对于传入温度和连接状态的判断，以此修改颜色-->
                                            <li class="list-group-item">
                                                <i class="bi bi-circle feature-icon"></i>
                                                <span>主控状态</span>
                                                <span class="span-tab">版本: V0.1.1</span>
                                                <span class="span-tab">温度: <span class="text-green">39.64°C</span>
                                                    </span>

                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-circle feature-icon"></i>
                                                <span>次控状态</span>
                                                <span class="span-tab">连接：<span class="text-red">断开</span> </span>

                                            </li>
                                        </ul>
                                    </div>
                                    <div class="tab-pane fade" id="time-tab-pane" role="tabpanel"
                                         aria-labelledby="time-tab" tabindex="0">
                                        <button id="time-button" class="btn btn-outline-primary mt-1"
                                                onclick="manualCalibration()">手动校准时间
                                        </button>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="bi bi-clock-fill feature-icon"></i>
                                                <span>系统时钟</span>
                                                <span id="current-time">UTC+8</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-calendar-check-fill feature-icon"></i>
                                                <span>最后校准时间</span>
                                                <span id="last-calibration-time">2024-06-26 10:00</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-broadcast feature-icon"></i>
                                                <span>校准源</span>
                                                <span>GPS时间信号</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-exclamation-circle-fill feature-icon"></i>
                                                <span>时间偏差</span>
                                                <span>±0.2秒</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="tab-pane fade" id="channel-tab-pane" role="tabpanel"
                                         aria-labelledby="channel-tab" tabindex="0">
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="bi bi-camera-video feature-icon"></i>
                                                <span>视频输入通道</span>
                                                <span>状态：正常</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-thermometer-half feature-icon"></i>
                                                <span>温度传感器通道</span>
                                                <span>数据流：稳定</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-moisture feature-icon"></i>
                                                <span>湿度感应通道</span>
                                                <span class="alert-status error">状态：校准待完成</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-speedometer2 feature-icon"></i>
                                                <span>压力传感器通道</span>
                                                <span>响应速度：快速</span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="tab-pane fade" id="alarm-tab-pane" role="tabpanel"
                                         aria-labelledby="alarm-tab" tabindex="0">
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="bi bi-bell-fill feature-icon"></i>
                                                <span>告警级别</span>
                                                <span class="alert-status low">当前：低</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-exclamation-triangle-fill feature-icon"></i>
                                                <span>最新告警</span>
                                                <span class="alert-status">无最近警报</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-clock-history feature-icon"></i>
                                                <span>告警历史记录</span>
                                                <span class="alert-status error">2023-06-20 水温异常 - 已处理</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-gear-fill feature-icon"></i>
                                                <span>告警阈值设置</span>
                                                <span>可通过界面调整</span>
                                            </li>
                                            <li class="list-group-item">
                                                <i class="bi bi-envelope-fill feature-icon"></i>
                                                <span>响应措施</span>
                                                <span>邮件通知管理员并记录</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--附加功能-->
                    <div class="col-xl-5 col-lg-6 col-md-6 col-sm-6 col-6 layout-spacing">
                        <div class="widget widget-six">
                            <div class="widget-heading">
                                <h6 class="">附加功能</h6>
                            </div>
                            <div class="additional-features">
                                <div class="row">
                                    <!-- 第一行的三个功能 -->
                                    <div class="col-4 feature-item">
                                        <div class="feature-content">
                                            <i class="bi bi-gear-fill feature-icon"></i>
                                            <span class="feature-text">摄像机</span>
                                            <div
                                                    class="switch form-switch-custom switch-inline form-switch-primary form-switch-custom inner-text-toggle form-check-input">
                                                <div class="input-checkbox">
                                                    <span class="switch-chk-label label-left">ON</span>
                                                    <input class="switch-input" type="checkbox" role="switch"
                                                           id="form-custom-switch1">
                                                    <span class="switch-chk-label label-right">OFF</span>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-4 feature-item">
                                        <div class="feature-content">
                                            <i class="bi bi-lightbulb-fill feature-icon"></i>
                                            <span class="feature-text">灯光</span>
                                            <div
                                                    class="switch form-switch-custom switch-inline form-switch-primary form-switch-custom inner-text-toggle form-check-input">
                                                <div class="input-checkbox">
                                                    <span class="switch-chk-label label-left">ON</span>
                                                    <input class="switch-input" type="checkbox" role="switch"
                                                           id="form-custom-switch2">
                                                    <span class="switch-chk-label label-right">OFF</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 feature-item">
                                        <div class="feature-content">
                                            <i class="bi bi-brush feature-icon"></i>
                                            <span class="feature-text">清洁刷</span>
                                            <div
                                                    class="switch form-switch-custom switch-inline form-switch-primary form-switch-custom inner-text-toggle form-check-input">
                                                <div class="input-checkbox">
                                                    <span class="switch-chk-label label-left">ON</span>
                                                    <input class="switch-input" type="checkbox" role="switch"
                                                           id="form-custom-switch3">
                                                    <span class="switch-chk-label label-right">OFF</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <!-- 第二行的三个功能 -->
                                    <div class="col-4 feature-item">
                                        <div class="feature-content">
                                            <i class="bi bi-camera-video feature-icon"></i>
                                            <span class="feature-text">视频回放</span>
                                            <div
                                                    class="switch form-switch-custom switch-inline form-switch-primary form-switch-custom inner-text-toggle form-check-input">
                                                <div class="input-checkbox">
                                                    <span class="switch-chk-label label-left">ON</span>
                                                    <input class="switch-input" type="checkbox" role="switch"
                                                           id="form-custom-switch4">
                                                    <span class="switch-chk-label label-right">OFF</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 feature-item">
                                        <div class="feature-content">
                                            <i class="bi bi-window feature-icon"></i>
                                            <span class="feature-text">视频同时播放</span>
                                            <div
                                                    class="switch form-switch-custom switch-inline form-switch-primary form-switch-custom inner-text-toggle form-check-input">
                                                <div class="input-checkbox">
                                                    <span class="switch-chk-label label-left">ON</span>
                                                    <input class="switch-input" type="checkbox" role="switch"
                                                           id="form-custom-switch5">
                                                    <span class="switch-chk-label label-right">OFF</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 feature-item">
                                        <div class="feature-content">
                                            <i class="bi bi-camera-fill feature-icon"></i>
                                            <span class="feature-text">云台摄像机</span>
                                            <div
                                                    class="switch form-switch-custom switch-inline form-switch-primary form-switch-custom inner-text-toggle form-check-input">
                                                <div class="input-checkbox">
                                                    <span class="switch-chk-label label-left">ON</span>
                                                    <input class="switch-input" type="checkbox" role="switch"
                                                           id="form-custom-switch6">
                                                    <span class="switch-chk-label label-right">OFF</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!--TODO:监控视频,现在仅仅用图片代替-->
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 layout-spacing">
                        <div class="widget widget-video">
                            <div class="widget-heading">
                                <h6 class="">监控视频</h6>
                            </div>
                            <div class="video-container">
                                <video width="100%" height="100%" controls style="display: none;">
                                    <source src="{% static 'src/assets/monitorvideo/视频2.mp4' %}" type="video/mp4">
                                    您的浏览器不支持视频标签。
                                </video>
                                <p id="camera-status-message" style="display: none;">摄像头已关闭</p> <!-- 新增状态信息元素 -->
                                <div class="paginating-container pagination-solid">
                                    <ul class="pagination">
                                        <li class="prev"><a href="javascript:void(0);">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                 stroke-linecap="round" stroke-linejoin="round"
                                                 class="feather feather-chevron-left">
                                                <polyline points="15 18 9 12 15 6"></polyline>
                                            </svg>
                                        </a></li>
                                        <li><a href="javascript:void(0);"
                                               data-video-src="{% static 'src/assets/monitorvideo/视频1.mp4' %}">1</a>
                                        </li>
                                        <li class="active"><a href="javascript:void(0);"
                                                              data-video-src="{% static 'src/assets/monitorvideo/视频2.mp4' %}">2</a>
                                        </li>
                                        <li><a href="javascript:void(0);"
                                               data-video-src="{% static 'src/assets/monitorvideo/视频3.mp4' %}">3</a>
                                        </li>
                                        <li><a href="javascript:void(0);"
                                               data-video-src="{% static 'src/assets/monitorvideo/视频4.mp4' %}">4</a>
                                        </li>
                                        <li class="next"><a href="javascript:void(0);">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                 stroke-linecap="round" stroke-linejoin="round"
                                                 class="feather feather-chevron-right">
                                                <polyline points="9 18 15 12 9 6"></polyline>
                                            </svg>
                                        </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--海洋牧场地图，使用百度地图的api baidumap.html-->
                    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 layout-spacing">
                        <div class="widget widget-map">
                            <div class="widget-heading">
                                <h6 class="">海洋牧场定位</h6>
                            </div>
                            <div class="map-container" id="map">
                                <iframe src="/static/html/baidumap.html"></iframe>
                            </div>
                        </div>
                    </div>

<!--                    &lt;!&ndash;历史数据&ndash;&gt;-->
<!--                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 layout-spacing">-->
<!--                        <div class="widget widget-chart-three">-->
<!--                            <div class="widget-heading">-->
<!--                                <div class="">-->
<!--                                    <h5 class="">历史数据</h5>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            &lt;!&ndash;历史数据的图表，在js文件中定义&ndash;&gt;-->
<!--                            <div class="widget-content">-->
<!--                                <div id="historydata"></div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash;TODO:水文气象，需要根据后端数据进行调整&ndash;&gt;-->
<!--                    &lt;!&ndash;这里最好把百分比放在进度条最右侧的上面对齐&ndash;&gt;-->
<!--                    <div class="col-xl-12 col-lg-6 col-md-6 col-sm-12 col-12 layout-spacing">-->
<!--                        <div class="widget-four">-->
<!--                            <div class="widget-heading">-->
<!--                                <h5 class="">水文气象</h5>-->
<!--                            </div>-->
<!--                            <div class="widget-content">-->
<!--                                <div class="hydrometeorology">-->
<!--                                    <div class="browser-list">-->
<!--                                        <div class="w-icon">-->
<!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                                                 class="feather feather-battery">-->
<!--                                                <rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect>-->
<!--                                                <line x1="23" y1="13" x2="23" y2="11"></line>-->
<!--                                            </svg>-->
<!--                                        </div>-->
<!--                                        <div class="w-browser-details">-->
<!--                                            <div class="w-browser-info">-->
<!--                                                <h6>电池电压(V)</h6>-->
<!--                                                <p class="browser-count">55%</p>-->
<!--                                            </div>-->
<!--                                            <div class="w-browser-stats">-->
<!--                                                <div class="progress">-->
<!--                                                    <div class="progress-bar bg-gradient-primary" role="progressbar"-->
<!--                                                         style="width: 55%" aria-valuenow="90" aria-valuemin="0"-->
<!--                                                         aria-valuemax="100"></div>-->
<!--                                                </div>-->
<!--                                                <span class="progress-value">25.90</span> &lt;!&ndash; 新添加的部分 &ndash;&gt;-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    <div class="browser-list">-->
<!--                                        <div class="w-icon">-->
<!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                                                 class="feather feather-box">-->
<!--                                                <path-->
<!--                                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">-->
<!--                                                </path>-->
<!--                                                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>-->
<!--                                                <line x1="12" y1="22.08" x2="12" y2="12"></line>-->
<!--                                            </svg>-->
<!--                                        </div>-->
<!--                                        <div class="w-browser-details">-->

<!--                                            <div class="w-browser-info">-->
<!--                                                <h6>盐度(‰)</h6>-->
<!--                                                <p class="browser-count">60%</p>-->
<!--                                            </div>-->

<!--                                            <div class="w-browser-stats">-->
<!--                                                <div class="progress">-->
<!--                                                    <div class="progress-bar bg-gradient-danger" role="progressbar"-->
<!--                                                         style="width: 60%" aria-valuenow="65" aria-valuemin="0"-->
<!--                                                         aria-valuemax="100"></div>-->
<!--                                                </div>-->
<!--                                                <span class="progress-value">34.16</span> &lt;!&ndash; 新添加的部分 &ndash;&gt;-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    <div class="browser-list">-->
<!--                                        <div class="w-icon">-->
<!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                                                 class="feather feather-layers">-->
<!--                                                <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>-->
<!--                                                <polyline points="2 17 12 22 22 17"></polyline>-->
<!--                                                <polyline points="2 12 12 17 22 12"></polyline>-->
<!--                                            </svg>-->
<!--                                        </div>-->
<!--                                        <div class="w-browser-details">-->

<!--                                            <div class="w-browser-info">-->
<!--                                                <h6>溶解氧(mg/L)</h6>-->
<!--                                                <p class="browser-count">0%</p>-->
<!--                                            </div>-->

<!--                                            <div class="w-browser-stats">-->
<!--                                                <div class="progress">-->
<!--                                                    <div class="progress-bar bg-gradient-warning" role="progressbar"-->
<!--                                                         style="width: 0%" aria-valuenow="15" aria-valuemin="0"-->
<!--                                                         aria-valuemax="100"></div>-->
<!--                                                </div>-->
<!--                                                <span class="progress-value">0.00</span> &lt;!&ndash; 新添加的部分 &ndash;&gt;-->
<!--                                            </div>-->

<!--                                        </div>-->

<!--                                    </div>-->

<!--                                    <div class="browser-list">-->
<!--                                        <div class="w-icon">-->
<!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                                                 class="feather feather-wind">-->
<!--                                                <path-->
<!--                                                        d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2">-->
<!--                                                </path>-->
<!--                                            </svg>-->
<!--                                        </div>-->
<!--                                        <div class="w-browser-details">-->

<!--                                            <div class="w-browser-info">-->
<!--                                                <h6>浊度</h6>-->
<!--                                                <p class="browser-count">10%</p>-->
<!--                                            </div>-->

<!--                                            <div class="w-browser-stats">-->
<!--                                                <div class="progress">-->
<!--                                                    <div class="progress-bar bg-gradient-primary" role="progressbar"-->
<!--                                                         style="width: 10%" aria-valuenow="15" aria-valuemin="0"-->
<!--                                                         aria-valuemax="100"></div>-->
<!--                                                </div>-->
<!--                                                <span class="progress-value">2.05</span> &lt;!&ndash; 新添加的部分 &ndash;&gt;-->
<!--                                            </div>-->

<!--                                        </div>-->

<!--                                    </div>-->

<!--                                    <div class="browser-list">-->
<!--                                        <div class="w-icon">-->
<!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                                                 class="feather feather-smile">-->
<!--                                                <circle cx="12" cy="12" r="10"></circle>-->
<!--                                                <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>-->
<!--                                                <line x1="9" y1="9" x2="9.01" y2="9"></line>-->
<!--                                                <line x1="15" y1="9" x2="15.01" y2="9"></line>-->
<!--                                            </svg>-->
<!--                                        </div>-->
<!--                                        <div class="w-browser-details">-->

<!--                                            <div class="w-browser-info">-->
<!--                                                <h6>pH</h6>-->
<!--                                                <p class="browser-count">40</p>-->
<!--                                            </div>-->

<!--                                            <div class="w-browser-stats">-->
<!--                                                <div class="progress">-->
<!--                                                    <div class="progress-bar bg-gradient-danger" role="progressbar"-->
<!--                                                         style="width: 40%" aria-valuenow="15" aria-valuemin="0"-->
<!--                                                         aria-valuemax="100"></div>-->
<!--                                                </div>-->
<!--                                                <span class="progress-value">8.37</span> &lt;!&ndash; 新添加的部分 &ndash;&gt;-->
<!--                                            </div>-->

<!--                                        </div>-->

<!--                                    </div>-->

<!--                                    <div class="browser-list">-->
<!--                                        <div class="w-icon">-->
<!--                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"-->
<!--                                                 viewBox="0 0 24 24" fill="none" stroke="currentColor"-->
<!--                                                 stroke-width="2" stroke-linecap="round" stroke-linejoin="round"-->
<!--                                                 class="feather feather-package">-->
<!--                                                <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>-->
<!--                                                <path-->
<!--                                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">-->
<!--                                                </path>-->
<!--                                                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>-->
<!--                                                <line x1="12" y1="22.08" x2="12" y2="12"></line>-->
<!--                                            </svg>-->
<!--                                        </div>-->
<!--                                        <div class="w-browser-details">-->

<!--                                            <div class="w-browser-info">-->
<!--                                                <h6>水温(°C)</h6>-->
<!--                                                <p class="browser-count">30%</p>-->
<!--                                            </div>-->

<!--                                            <div class="w-browser-stats">-->
<!--                                                <div class="progress">-->
<!--                                                    <div class="progress-bar bg-gradient-warning" role="progressbar"-->
<!--                                                         style="width: 30%" aria-valuenow="15" aria-valuemin="0"-->
<!--                                                         aria-valuemax="100"></div>-->
<!--                                                </div>-->
<!--                                                <span class="progress-value">15</span> &lt;!&ndash; 新添加的部分 &ndash;&gt;-->
<!--                                            </div>-->

<!--                                        </div>-->

<!--                                    </div>-->

<!--                                </div>-->

<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

                    <div id="mapInteractive" class="col-lg-12 layout-spacing">
                        <div class="statbox widget box box-shadow">
                            <div class="widget-header">
                                <div class="row">
                                    <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                        <h4>近日全国水文信息地图</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="widget-content widget-content-area">
                                <div id="interactive-map" class="leaflet-map" style="height: 550px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!--  BEGIN FOOTER  -->
        <div class="footer-wrapper">
            <div class="footer-section f-section-1">
                <p class="">系统正在开发ing，有小bug，敬请谅解</p>
            </div>

        </div>
        <!--  END FOOTER  -->
    </div>
    <!--  END CONTENT AREA  -->

</div>
<!-- END MAIN CONTAINER -->


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script src="{% static 'src/assets/js/Hu/signInScript.js' %}"></script>


<!-- BEGIN GLOBAL MANDATORY SCRIPTS -->
<script src="{% static 'src/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'src/plugins/src/perfect-scrollbar/perfect-scrollbar.min.js' %}"></script>
<script src="{% static 'src/plugins/src/mousetrap/mousetrap.min.js' %}"></script>
<script src="{% static 'src/plugins/src/waves/waves.min.js' %}"></script>
<script src="{% static 'layouts/modern-light-menu/app.js' %}"></script>
<script src="{% static 'src/assets/js/custom.js' %}"></script>
<!-- END GLOBAL MANDATORY SCRIPTS -->

<!-- BEGIN PAGE LEVEL PLUGINS/CUSTOM SCRIPTS -->
<script src="{% static 'src/plugins/src/apex/apexcharts.min.js' %}"></script>
<script src="{% static 'src/plugins/src/echarts/echarts.min.js' %}"></script>
<script src="{% static 'src/assets/js/dashboard/dash_maininfo.js' %}"></script>

<script src="{% static 'src/assets/js/scrollspyNav.js' %}"></script>
<script src="{% static 'src/assets/js/searchNav.js' %}"></script>
<script src="{% static 'src/plugins/src/splide/splide.min.js' %}"></script>
<script src="{% static 'src/plugins/src/splide/custom-splide.js' %}"></script>
<script src="{% static 'src/plugins/src/highlight/highlight.pack.js' %}"></script>

<script src="{% static 'src/plugins/src/leaflet/us-states.js' %}"></script>
<script src="{% static 'src/plugins/src/leaflet/eu-countries.js' %}"></script>
<script src="{% static 'src/plugins/src/leaflet/leaflet.js' %}"></script>
<!-- END PAGE LEVEL PLUGINS -->

<!--  BEGIN CUSTOM SCRIPTS FILE  -->
<script src="{% static 'src/plugins/src/leaflet/leaflet_china.js' %}"></script>
<!--<script src="{% static 'src/assets/js/dashboard/china_leaflet.js' %}"></script> -->
<!--  END CUSTOM SCRIPTS FILE  -->

<script type="text/javascript">
    //创建和初始化地图函数：
    function initMap() {
        createMap();//创建地图
        setMapEvent();//设置地图事件
        addMapControl();//向地图添加控件
        addMapOverlay();//向地图添加覆盖物
    }

    function createMap() {
        map = new BMap.Map("map");
        map.centerAndZoom(new BMap.Point(110.330242, 20.082306), 15);
    }

    function setMapEvent() {
        map.enableScrollWheelZoom();
        map.enableKeyboard();
        map.enableDragging();
        map.enableDoubleClickZoom()
    }

    function addClickHandler(target, window) {
        target.addEventListener("click", function () {
            target.openInfoWindow(window);
        });
    }

    function addMapOverlay() {
        var markers = [
            {
                content: "我的备注",
                title: "我的标记",
                imageOffset: {width: 0, height: 3},
                position: {lat: 20.081084, lng: 110.331895}
            }
        ];
        for (var index = 0; index < markers.length; index++) {
            var point = new BMap.Point(markers[index].position.lng, markers[index].position.lat);
            var marker = new BMap.Marker(point, {
                icon: new BMap.Icon("http://api.map.baidu.com/lbsapi/createmap/images/icon.png", new BMap.Size(20, 25), {
                    imageOffset: new BMap.Size(markers[index].imageOffset.width, markers[index].imageOffset.height)
                })
            });
            var label = new BMap.Label(markers[index].title, {offset: new BMap.Size(25, 5)});
            var opts = {
                width: 200,
                title: markers[index].title,
                enableMessage: false
            };
            var infoWindow = new BMap.InfoWindow(markers[index].content, opts);
            marker.setLabel(label);
            addClickHandler(marker, infoWindow);
            map.addOverlay(marker);
        }
        ;
    }

    //向地图添加控件
    function addMapControl() {
        var scaleControl = new BMap.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_LEFT});
        scaleControl.setUnit(BMAP_UNIT_IMPERIAL);
        map.addControl(scaleControl);
        var navControl = new BMap.NavigationControl({
            anchor: BMAP_ANCHOR_TOP_LEFT,
            type: BMAP_NAVIGATION_CONTROL_LARGE
        });
        map.addControl(navControl);
        var overviewControl = new BMap.OverviewMapControl({
            anchor: BMAP_ANCHOR_BOTTOM_RIGHT,
            isOpen: true
        });
        map.addControl(overviewControl);
    }

    var map;
    initMap();
</script>

<script>
    // 用于在页面加载时初始化视频状态
    document.addEventListener('DOMContentLoaded', function () {
        const videoElement = document.querySelector('.video-container video');
        const statusMessage = document.getElementById('camera-status-message');
        const cameraSwitch = document.getElementById('form-custom-switch1'); // 获取摄像机开关

        // 设置初始状态
        updateVideoDisplay(cameraSwitch.checked);

        // 添加事件监听器以响应开关的更改
        cameraSwitch.addEventListener('change', function () {
            updateVideoDisplay(this.checked);
        });

        function updateVideoDisplay(isCameraOn) {
            if (isCameraOn) {
                videoElement.style.display = 'block';  // 显示视频
                statusMessage.style.display = 'none';  // 隐藏状态信息
                videoElement.play();  // 播放视频
            } else {
                videoElement.style.display = 'none';  // 隐藏视频
                videoElement.pause();  // 暂停视频
                statusMessage.style.display = 'flex';  // 显示状态信息，使用 flex 以居中文本
                statusMessage.innerText = '摄像头已关闭';  // 设置状态信息文本
            }
        }
    });
</script>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const videoElement = document.querySelector('.video-container video');
        const sourceElement = videoElement.querySelector('source');
        const paginationLinks = document.querySelectorAll('.pagination a[data-video-src]');
        const nextButton = document.querySelector('.pagination .next a');
        const prevButton = document.querySelector('.pagination .prev a');

        // 为每个分页链接添加事件监听器
        paginationLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault(); // 防止默认链接跳转
                changeVideo(this.getAttribute('data-video-src'));
                updateActiveClass(this.parentNode);
            });
        });

        // “下一个”按钮的事件监听
        nextButton.addEventListener('click', function (e) {
            e.preventDefault();
            navigatePagination(1); // 向前翻页
        });

        // “上一个”按钮的事件监听
        prevButton.addEventListener('click', function (e) {
            e.preventDefault();
            navigatePagination(-1); // 向后翻页
        });

        // 更换视频源并播放
        function changeVideo(src) {
            if (src && src !== sourceElement.src) {
                sourceElement.src = src;
                videoElement.load();
                videoElement.play();
            }
        }

        // 更新激活的分页器样式
        function updateActiveClass(activeLi) {
            const currentActive = document.querySelector('.pagination li.active');
            if (currentActive) {
                currentActive.classList.remove('active');
            }
            activeLi.classList.add('active');
        }

        // 导航分页器
        function navigatePagination(direction) {
            const currentActive = document.querySelector('.pagination li.active');
            let newActive = (direction === 1) ? currentActive.nextElementSibling : currentActive.previousElementSibling;

            // 处理循环翻页
            if (newActive && !newActive.querySelector('a[data-video-src]')) {
                newActive = (direction === 1) ? currentActive.parentNode.firstElementChild.nextElementSibling : currentActive.parentNode.lastElementChild.previousElementSibling;
            }

            if (newActive && newActive.querySelector('a[data-video-src]')) {
                newActive.querySelector('a').click();
            }
        }
    });
</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const videoElement = document.querySelector('.video-container video');
        const videoPlaybackSwitch = document.getElementById('form-custom-switch4'); // 视频回放开关的ID

        // 监听视频回放开关状态变化
        videoPlaybackSwitch.addEventListener('change', function () {
            if (this.checked) {
                videoElement.currentTime = 0; // 将视频重置到开始位置
                videoElement.play(); // 开始播放视频
            }
        });
    });
</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const clockElement = document.getElementById('current-time');
        const lastCalibrationTime = document.getElementById('last-calibration-time');

        function updateTime() {
            const now = new Date();
            clockElement.textContent = 'UTC+8 ' + now;
        }

        function manualCalibration() {
            const now = new Date();
            lastCalibrationTime.textContent = formatDate(now);
            console.log("手动时间校准操作触发。校准时间：" + formatDate(now));
        }

        // 格式化日期为 YYYY-MM-DD HH:MM
        function formatDate(date) {
            return date.getFullYear() + '-' +
                (date.getMonth() + 1).toString().padStart(2, '0') + '-' +
                date.getDate().toString().padStart(2, '0') + ' ' +
                date.getHours().toString().padStart(2, '0') + ':' +
                date.getMinutes().toString().padStart(2, '0');
        }

        // 每秒更新时间
        setInterval(updateTime, 1000);

        // 模拟每24小时自动校准
        setInterval(() => {
            const now = new Date();
            lastCalibrationTime.textContent = formatDate(now);
            console.log("自动校准时间。校准时间：" + formatDate(now));
        }, 86400000);  // 24小时的毫秒数

        window.manualCalibration = manualCalibration;  // 使函数在全局范围内可用
    });
</script>


</body>

</html>